database: ${DATABASE_URL}

# Supabase Storage — file uploads (receipts, user documents, etc.)
# supabase:
#   url: ${SUPABASE_URL}
#   service_role_key: ${SUPABASE_SERVICE_ROLE_KEY}
#   storage_bucket: onevalet-files        # bucket name in Supabase Dashboard

llm:
  provider: openai          # openai | anthropic | azure | dashscope | gemini | ollama
  model: gpt-4o
  # api_key: ${OPENAI_API_KEY}
  # base_url: https://your-endpoint.openai.azure.com/  # Azure only

embedding:
  provider: openai          # openai | azure
  model: text-embedding-3-small
  # api_key: ${OPENAI_API_KEY}          # defaults to llm.api_key if omitted
  # base_url: https://your-endpoint/    # Azure only
  # api_version: '2024-02-01'           # Azure only

# Optional: custom persona (appended after built-in system prompt)
# system_prompt: |
#   Your name is Jarvis. You speak in a warm, butler-like tone.

# ---------------------------------------------------------------------------
# Model Routing — route requests to different LLMs based on complexity
#
# When enabled, a lightweight classifier scores each request (1-100) and
# selects the best provider.  Simple tasks go to cheap/fast models; complex
# tasks go to strong models.  This can dramatically reduce API costs.
#
# Requires llm_providers to define at least the providers referenced in rules.
# ---------------------------------------------------------------------------
# llm_providers:
#   strong:
#     provider: anthropic
#     model: claude-sonnet-4-20250514
#     api_key: ${ANTHROPIC_API_KEY}
#   fast:
#     provider: openai
#     model: gpt-4o-mini
#     api_key: ${OPENAI_API_KEY}
#   cheap:
#     provider: dashscope
#     model: deepseek-chat
#     api_key: ${DEEPSEEK_API_KEY}
#
# model_routing:
#   enabled: true
#   classifier_provider: fast          # which provider scores the request
#   default_provider: fast             # fallback if classifier fails
#   rules:
#     - score_range: [1, 30]           # trivial: greetings, quick Q&A
#       provider: cheap
#     - score_range: [31, 70]          # standard: single-agent tasks
#       provider: fast
#     - score_range: [71, 100]         # complex: multi-agent, trip planning
#       provider: strong

# Callbacks — OneValet POSTs notifications here (e.g. important emails, trigger results)
# callbacks:
#   notify_url: http://localhost:8001/webhook/onevalet/callback

# ---------------------------------------------------------------------------
# Credentials — flat key-value pairs loaded into environment variables.
#
# Keys are environment variable names. Values support ${VAR} syntax.
# All fields are optional. Only configure the services you need.
# Adding a new credential requires only a new line here — no code changes.
# ---------------------------------------------------------------------------
# credentials:
#   COMPOSIO_API_KEY: ${COMPOSIO_API_KEY}
#   NOTION_CLIENT_ID: ${NOTION_CLIENT_ID}
#   NOTION_CLIENT_SECRET: ${NOTION_CLIENT_SECRET}
#   GOOGLE_MAPS_API_KEY: ${GOOGLE_MAPS_API_KEY}
#   GOOGLE_SEARCH_API_KEY: ${GOOGLE_SEARCH_API_KEY}
#   GOOGLE_SEARCH_ENGINE_ID: ${GOOGLE_SEARCH_ENGINE_ID}
#   AMADEUS_API_KEY: ${AMADEUS_API_KEY}
#   AMADEUS_API_SECRET: ${AMADEUS_API_SECRET}
#   WEATHER_API_KEY: ${WEATHER_API_KEY}
#   GOOGLE_CLIENT_ID: ${GOOGLE_CLIENT_ID}
#   GOOGLE_CLIENT_SECRET: ${GOOGLE_CLIENT_SECRET}
#   MICROSOFT_CLIENT_ID: ${MICROSOFT_CLIENT_ID}
#   MICROSOFT_CLIENT_SECRET: ${MICROSOFT_CLIENT_SECRET}
#   MICROSOFT_TENANT_ID: ${MICROSOFT_TENANT_ID}
